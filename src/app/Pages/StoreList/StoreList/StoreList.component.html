<div class="store-list-container">
    <!-- Header Section -->
    <div class="page-header">
        <div class="container">
            <div class="header-content">
                <h1 class="page-title">Tiendas</h1>
                <p class="page-subtitle">Descubre las mejores tiendas</p>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="main-layout">
            <!-- Sidebar - Categories -->
            <aside class="sidebar">
                <div class="categories-card">
                    <h3 class="categories-title">
                        <i class="fa fa-filter"></i>
                        Categor√≠as
                    </h3>
                    <mat-tree [dataSource]="dataSourceTree" [treeControl]="treeControl" class="categories-tree">
                        <mat-nested-tree-node *matTreeNodeDef="let node;">
                            <div class="category-item" (click)="GetProductCategory(node.id)">
                                <img src="assets/images/icons_category_store/{{node.icon}}" alt="{{node.name_category}}" class="category-icon">
                                <span class="category-name">{{node.name_category}}</span>
                            </div>
                        </mat-nested-tree-node>
                    </mat-tree>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Search Section -->
                <div class="search-section">
                    <div class="search-container">
                        <input 
                            class="search-input" 
                            matInput 
                            [(ngModel)]="searchText" 
                            placeholder="Buscar tiendas..." 
                            type="search" 
                            autocomplete="off">
                    </div>
                </div>

                <!-- Stores Grid -->
                <div class="stores-grid">
                    <div class="stores-grid-container">
                        <div class="store-card" *ngFor="let card of obsStore | async">
                            <div class="store-card-content">
                                <!-- Store Logo -->
                                <div class="store-logo-container">
                                    <a class="store-link" *ngIf="!card?.id" [routerLink]="[card?.route_store]">
                                        <img 
                                            class="store-logo" 
                                            [src]="card?.logo_store" 
                                            [ngClass]="{ transparent: !loaded }" 
                                            (load)="onLoad()" 
                                            alt="{{card?.name_store}}">
                                    </a>
                                </div>

                                <!-- Store Info -->
                                <div class="store-info">
                                    <h4 class="store-name">
                                        <a *ngIf="!card?.id" [routerLink]="[card?.route_store]" class="store-name-link">
                                            {{card?.name_store}}
                                        </a>
                                    </h4>
                                    <p class="store-description">{{card?.description}}</p>
                                    
                                    <!-- Action Button -->
                                    <div class="store-actions">
                                        <a class="store-action-button" *ngIf="!card?.id" [routerLink]="[card?.route_store]">
                                            Ver Productos
                                            <i class="fa fa-arrow-right"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Pagination -->
                <div class="pagination-section">
                    <mat-paginator 
                        class="stores-paginator" 
                        [pageSizeOptions]="[8, 16, 24, 32]"
                        showFirstLastButtons="true">
                    </mat-paginator>
                </div>
            </main>
        </div>
    </div>
</div>