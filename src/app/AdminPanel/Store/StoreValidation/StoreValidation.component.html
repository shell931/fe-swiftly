<!-- <div class="overlay">
                <div class="center_spinner">
                    <mat-progress-spinner diameter=70 mode="indeterminate" color="accent">
                    </mat-progress-spinner>
                </div>
            </div> -->

<mat-card class="matcard_admin">

    <div class="div_title">
        <mat-label><b>DATOS DEL COMERCIO</b></mat-label>
    </div>
    <div class="row" style="display: flex !important; flex-wrap: wrap !important;">
        <div class="data-field" style="flex: 0 0 50%; max-width: 50%;">
            <mat-label><b>Ciudad</b></mat-label>
            <p>{{city}}</p>
        </div>
        <div class="data-field" style="flex: 0 0 50%; max-width: 50%;">
            <mat-label><b>Departamento</b></mat-label>
            <p>{{departament}}</p>
        </div>
    </div>
    <div class="row" style="display: flex !important; flex-wrap: wrap !important;">
        <div class="data-field" style="flex: 0 0 50%; max-width: 50%;">
            <mat-label><b>Direcci√≥n</b></mat-label>
            <p>{{address}}</p>
        </div>
        <div class="data-field" style="flex: 0 0 50%; max-width: 50%;">
            <mat-label><b>Representante</b></mat-label>
            <p>{{manager}}</p>
        </div>
    </div>
    <div class="row" style="display: flex !important; flex-wrap: wrap !important;">
        <div class="data-field" style="flex: 0 0 50%; max-width: 50%;">
            <mat-label><b>Nombre comercial</b></mat-label>
            <p>{{name_store}}</p>
        </div>
        <div class="data-field" style="flex: 0 0 50%; max-width: 50%;">
            <mat-label><b>Email</b></mat-label>
            <p>{{email}}</p>
        </div>
    </div>
    <div class="row" style="display: flex !important; flex-wrap: wrap !important;">
        <div class="data-field" style="flex: 0 0 50%; max-width: 50%;">
            <mat-label><b>N√∫mero de identificaci√≥n</b></mat-label>
            <p>{{number_identifier}}</p>
        </div>
        <div class="data-field" style="flex: 0 0 50%; max-width: 50%;">
            <mat-label><b>Tel√©fono</b></mat-label>
            <p>{{telephone}}</p>
        </div>
    </div>
    <div class="row" style="display: flex !important; flex-wrap: wrap !important;">
        <div class="data-field-full" style="flex: 0 0 100%; max-width: 100%;">
            <mat-label><b>Categoria del comercio</b></mat-label>
            <p>{{storecategories_description}}</p>
        </div>
    </div>
    <div class="div_title">
        <mat-label><b>DATOS DE LA CUENTA BANCAR√çA</b></mat-label>
    </div>
    <div class="row" style="display: flex !important; flex-wrap: wrap !important;">
        <div class="data-field" style="flex: 0 0 50%; max-width: 50%;">
            <mat-label><b>N√∫mero de cuenta</b></mat-label>
            <p>{{account_number}}</p>
        </div>
        <div class="data-field" style="flex: 0 0 50%; max-width: 50%;">
            <mat-label><b>Titular</b></mat-label>
            <p>{{responsible}}</p>
        </div>
    </div>
    <div class="row" style="display: flex !important; flex-wrap: wrap !important;">
        <div class="data-field" style="flex: 0 0 50%; max-width: 50%;">
            <mat-label><b>Banco</b></mat-label>
            <p>{{bank}}</p>
        </div>
        <div class="data-field" style="flex: 0 0 50%; max-width: 50%;">
            <mat-label><b>Tipo de cuenta</b></mat-label>
            <p>{{typeaccount}}</p>
        </div>
    </div>

    <div class="div_title">
        <mat-label><b>PORCENTAJES DE DESCUENTO</b></mat-label>
    </div>
    <div class="row mb-4">
        <div class="data-field">
            <mat-label><b>Porcentaje de venta</b><b class="obligatory"> *</b></mat-label>
            <ng-select [items]="percentage_sale$ | async" bindLabel="percentage" bindValue="id" [formControl]="percentagesaleFilterCtrl" [(ngModel)]="selectedPercentageSale" required>
            </ng-select>
            <div class="mt-2" *ngIf="validate_percentage_sale">
                <label style="color:red">
                    Porcentaje de venta obligatorio
                </label>
            </div>
        </div>
        <div class="data-field" style="flex: 0 0 50%; max-width: 50%;">
            <mat-label><b>Porcentaje de pago</b><b class="obligatory"> *</b></mat-label>
            <ng-select [items]="percentage_payment$ | async" bindLabel="percentage" bindValue="id" [formControl]="percentagepaymentFilterCtrl" [(ngModel)]="selectedPercentagePayment" required>
            </ng-select>
            <div class="mt-2" *ngIf="validate_percentage_payment">
                <label style="color:red">
                    Porcentaje de pago obligatorio
                </label>
            </div>
        </div>
    </div>

    <div class="div_title">
        <mat-label><b>DOCUMENTOS DEL COMERCIO</b></mat-label>
    </div>

    <!-- Documento 1: C√©dula de Identidad -->
    <div class="document-panel">
        <div class="document-header" (click)="toggleDocument('identidad')">
            <div class="document-title">
                <mat-icon class="doc-icon">description</mat-icon>
                <span>üìÑ C√©dula de Identidad</span>
            </div>
            <mat-icon class="toggle-icon" [class.rotated]="showDocIdentidad">
                {{ showDocIdentidad ? 'expand_less' : 'expand_more' }}
            </mat-icon>
        </div>
        <div class="document-content" *ngIf="showDocIdentidad">
            <iframe [src]="doc_identifier_doc"></iframe>
        </div>
    </div>

    <!-- Documento 2: RUT -->
    <div class="document-panel">
        <div class="document-header" (click)="toggleDocument('rut')">
            <div class="document-title">
                <mat-icon class="doc-icon">assignment</mat-icon>
                <span>üìã Registro √önico Tributario (RUT)</span>
            </div>
            <mat-icon class="toggle-icon" [class.rotated]="showDocRut">
                {{ showDocRut ? 'expand_less' : 'expand_more' }}
            </mat-icon>
        </div>
        <div class="document-content" *ngIf="showDocRut">
            <iframe [src]="rut_doc"></iframe>
        </div>
    </div>

    <!-- Documento 3: C√°mara de Comercio -->
    <div class="document-panel">
        <div class="document-header" (click)="toggleDocument('camara')">
            <div class="document-title">
                <mat-icon class="doc-icon">business</mat-icon>
                <span>üè¢ C√°mara de Comercio</span>
            </div>
            <mat-icon class="toggle-icon" [class.rotated]="showDocCamara">
                {{ showDocCamara ? 'expand_less' : 'expand_more' }}
            </mat-icon>
        </div>
        <div class="document-content" *ngIf="showDocCamara">
            <iframe [src]="cam_com_doc"></iframe>
        </div>
    </div>

    <!-- Documento 4: Certificaci√≥n Bancaria -->
    <div class="document-panel">
        <div class="document-header" (click)="toggleDocument('banco')">
            <div class="document-title">
                <mat-icon class="doc-icon">account_balance</mat-icon>
                <span>üè¶ Certificaci√≥n Bancaria</span>
            </div>
            <mat-icon class="toggle-icon" [class.rotated]="showDocBanco">
                {{ showDocBanco ? 'expand_less' : 'expand_more' }}
            </mat-icon>
        </div>
        <div class="document-content" *ngIf="showDocBanco">
            <iframe [src]="certification_url"></iframe>
        </div>
    </div>

    <div class="action-buttons-section">
        <div class="row" style="display: flex !important; flex-wrap: wrap !important;">
            <div class="data-field" style="flex: 0 0 50%; max-width: 50%; display: flex; justify-content: center; align-items: center;">
                <button mat-raised-button color="accent" class="action-button" (click)="RechStore()">Rechazar</button>
            </div>

            <div class="data-field" style="flex: 0 0 50%; max-width: 50%; display: flex; justify-content: center; align-items: center;">
                <button mat-raised-button class="action-button green" (click)="confirmAproveStore()">Aprobar</button>
            </div>
        </div>
    </div>
</mat-card>





<script>
    // Google Analytics
    (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function() {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-49610253-3', 'auto');
    ga('send', 'pageview');
</script>
